define(["levelsData","Scene","Action","Level","Dialog","InteractiveObject","Flag","CuidandoBem","Commons","Pulseira","Prontuario","FreqRespiratoria","Scores_data"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function C(){if(!v||d.getFlag("conversar_recepcionista").getValue()==1)u.closeDialog(),u.changeScene(1)}function k(){u.openDialog(0)}function L(){u.changeScene(4)}function A(){(!v||d.getFlag("conversar_mentor").getValue()==1)&&u.changeScene(2)}var p=require("Dialogs_data").fase1,d=new r("Level Fase1"),v=!0,m=!1;v||(m=!0);var g,y,b,w,E,S,x,T,N;g=a.scenes.recepcao.getClone().onLoad(function(){u.openDialog(0)}),g.registerDialogs([(new i(a.characters.recepcionista)).setText(p.recepcionista[0]).registerOption("",function(){d.getFlag("conversar_recepcionista").setValue(!0),u.openDialog(1)}),(new i(a.characters.jogador)).setText(p.recepcionista[1]).registerOption("",function(){u.closeDialog()})]),g.registerInteractiveObjects([(new s("intObj-conversar_recepcionista","Conversar com a Recepcionista")).setCssClass("intObj-talkToReceptionist").setVisibility(!0).onClick(k),(new s("io-ir_corredor_esquerda","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-left").onClick(C).setVisibility(!0),(new s("io-ir_corredor_direita","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-right").onClick(C).setVisibility(!0)]),y=a.scenes.corredor.getClone().onLoad(function(){d.getFlag("conversar_mentor").getValue()==0?(d.getFlag("conversar_mentor").setValue(!0),u.openDialog(0)):d.getFlag("examinar_paciente").getValue()==1&&d.getFlag("conversar_mentor2").getValue()==0&&u.openDialog(2)}).onUnload(function(){}),y.registerDialogs([(new i(a.characters.mentor)).setText(p.corredor.fala1[0]).registerOption("",function(){d.getFlag("conversar_mentor").setValue(!0),u.openDialog(1)}),(new i(a.characters.jogador)).setText(p.corredor.fala1[1]).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(p.corredor.fala2[0]).registerOption("",function(){u.openDialog(3)}),(new i(a.characters.jogador)).setText("").registerOption(p.corredor.fala2[1],function(){u.openDialog(6)}).registerOption(p.corredor.fala2[2],function(){u.openDialog(4)}).registerOption(p.corredor.fala2[4],function(){u.openDialog(5)}).setRandomize(!0),(new i(a.characters.mentor)).setText(p.corredor.fala2[3]).registerOption("",function(){u.openDialog(3)}),(new i(a.characters.mentor)).setText(p.corredor.fala2[5]).registerOption("",function(){u.openDialog(3)}),(new i(a.characters.mentor)).setText(p.corredor.fala2[6]).registerOption("",function(){u.openDialog(7)}),(new i(a.characters.jogador)).setText("").registerOption(p.corredor.fala2[7],function(){u.closeDialog(),u.openCommandBar(),d.getFlag("conversar_mentor2").setValue(!0)}).registerOption(p.corredor.fala2[8],function(){u.openDialog(8)}).registerOption(p.corredor.fala2[10],function(){u.openDialog(9)}).setRandomize(!0),(new i(a.characters.mentor)).setText(p.corredor.fala2[9]).registerOption("",function(){u.openDialog(7)}),(new i(a.characters.mentor)).setText(p.corredor.fala2[11]).registerOption("",function(){u.openDialog(7)})]),y.registerInteractiveObjects([(new s("io-ir_sala_leitos","Ir para a sala de Leitos Masculino")).setCssClass("intObj-goToBedroom").onClick(A).setVisibility(!0),(new s("io-ir_posto_enfermagem","Ir para o Posto de Enfermagem")).setCssClass("intObj-goToNursingStation").onClick(L).setVisibility(!0),(new s("io-conversar_mentor","Conversar com Mentor")).setCssClass("intObj-talkToMentor").onClick(function(){u.closeCommandBar(),d.getFlag("examinar_paciente").getValue()==0?(d.getFlag("conversar_mentor").setValue(!0),u.openDialog(0)):d.getFlag("examinar_paciente").getValue()==1&&(u.openDialog(2),alert("O mentor deve sumir daqui ou deve continuar para repetição do dialogo?"))}).setVisibility(!0)]),w=(new t("sala_de_leitos","scene-sala_de_leitos")).setCssClass("scene-bedroom").onLoad(function(){d.getFlag("colocou_coxim").getValue()==1&&u.setActionVisible("btn-ler_prontuario",!0),u.openCommandBar()}).onUnload(function(){u.closeCommandBar()}),w.registerInteractiveObjects([(new s("io-ir_leito","Ir ao leito")).setCssClass("intObj-ir_leito-fase1").onClick(function(){u.changeScene(3)}).setVisibility(!1),(new s("io-ir_corredor","Ir ao Corredor")).setCssClass("intObj-bedroomToHallway").onClick(function(){u.changeScene(1)}).setVisibility(!0)]),w.registerActions([(new n("btn-lavar_maos","Lavar as mãos")).setCssClass("action-lavar_maos").onClick(function(){d.getFlag("lavar_maos").getValue()==0?(d.getFlag("lavar_maos").setValue(!0),u.setInteractiveObjectVisible("io-ir_leito",!0)):d.getFlag("lavar_maos2").getValue()==0&&d.getFlag("examinar_paciente").getValue()==1&&d.getFlag("lavar_maos2").setValue(!0)}).setVisibility(!0),(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){l.open(),u.openModalScene("Prontuario")}).setVisibility(!1)]),E=a.scenes.leitos.char2.getClone().onLoad(function(){u.openCommandBar(),d.getFlag("examinar_paciente").getValue()==0&&u.setInteractiveObjectVisible("io-pulseira_paciente",!0),d.getFlag("conversar_mentor2").getValue()==1&&(u.setActionVisible("btn-examinar_paciente",!1),d.getFlag("coxim").getValue()==1&&u.setActionVisible("btn-mudar_posicao",!0))}).onUnload(function(){u.closeCommandBar()}),E.registerInteractiveObjects([(new s("io-pulseira_paciente","Checar pulseira do paciente")).setCssClass("intObj-paciente_02-checar_pulseira").onClick(function(){u.openModalScene("pulseira"),f.open(),u.openCommandBar()}).setVisibility(!0)]),E.registerDialogs([(new i(a.characters.jogador)).setText("").registerOption(p.enfermaria[0],function(){u.openDialog(3)}).registerOption(p.enfermaria[1],function(){u.openDialog(1)}).registerOption(p.enfermaria[3],function(){u.openDialog(2)}),(new i(a.characters.mentor)).setText(p.enfermaria[2]).registerOption("",function(){u.openDialog(0)}),(new i(a.characters.mentor)).setText(p.enfermaria[4]).registerOption("",function(){u.openDialog(0)}),(new i(a.characters.pacientes.carlos)).setText(p.enfermaria[5]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.pacientes.jogador)).setText("").registerOption(p.enfermaria[6],function(){u.openDialog(7)}).registerOption(p.enfermaria[7],function(){u.openDialog(5)}).registerOption(p.enfermaria[9],function(){u.openDialog(6)}),(new i(a.characters.mentor)).setText(p.enfermaria[8]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.mentor)).setText(p.enfermaria[10]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.pacientes.carlos)).setText(p.enfermaria[11]).registerOption(p.enfermaria[12],function(){u.openCommandBar(),u.closeDialog(),u.setActionVisible("btn-perguntar_nome",!0),u.setActionVisible("btn-falar_paciente",!1)}),(new i(a.characters.jogador)).setText(p.perguntarNome).registerOption("",function(){u.openDialog(9)}),(new i(a.characters.pacientes.carlos)).setText(p.enfermaria[11]).registerOption("Obrigado.",function(){u.openCommandBar(),u.closeDialog()})]),E.registerActions([(new n("btn-examinar_paciente","Examinar Paciente")).setCssClass("").onClick(function(){alert("Examinou Paciente. Como deve aparecer para o usuário que ele examinou realmente o paciente?"),d.getFlag("examinar_paciente").setValue(!0),u.setActionVisible("btn-ir_sala_leitos",!0)}).setVisibility(!1),(new n("btn-falar_paciente","Conversar com Paciente")).setCssClass("").onClick(function(){u.openDialog(0),u.closeCommandBar()}).setVisibility(!0),(new n("btn-perguntar_nome","Perguntar nome do paciente")).setCssClass("").onClick(function(){u.closeCommandBar(),u.openDialog(8)}).setVisibility(!1),(new n("btn-ir_sala_leitos","Ir para sala de leitos")).setCssClass("action-ir_sala_de_leitos").onClick(function(){f.isAllDataValid()?u.changeScene(2):(alert("Alguns dados da pulseira estão incorretos. Devo bloquear o caminho dele ou reduzir pontos?"),u.changeScene(2))}).setVisibility(!1),(new n("btn-mudar_posicao","Mudar posição do paciente")).setCssClass("").onClick(function(){u.changeSceneCssClassTo("scene-bedChar02-turned"),u.setActionVisible("btn-mudar_posicao",!1),u.setActionVisible("btn-posicionar_coxim_e_travesseiro",!0)}).setVisibility(!1),(new n("btn-posicionar_coxim_e_travesseiro","Posicionar coxim e travesseiro")).setCssClass("").onClick(function(){u.changeSceneCssClassTo("scene-bedChar02-cushion"),u.setActionVisible("btn-posicionar_coxim_e_travesseiro",!1),d.getFlag("colocou_coxim").setValue(!0)}).setVisibility(!1)]),S=a.scenes.postoDeEnfermagem.getClone().onLoad(function(){u.openCommandBar()}).onUnload(function(){u.closeCommandBar()}),S.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){u.changeScene(1)}).setVisibility(!0)]),S.registerInteractiveObjects([(new s("io-abrir_gaveta","Abrir gaveta")).setCssClass("intObj-openDrawer").onClick(function(){u.openModalScene("gaveta"),u.openCommandBar(),u.setInteractiveObjectVisible("io-coxim",!d.getFlag("coxim").getValue())}).setVisibility(!0)]),T=new t("pulseira","pulseira"),T.registerInteractiveObjects([]),T.registerActions([(new n("btn-largar_pulseira","Fechar pulseira")).setCssClass("action-pulseira_paciente").onClick(function(){u.closeModalScene("Pulseira"),d.getFlag("confirmou_pulseira").getValue()==0&&(d.getFlag("confirmou_pulseira").setValue(!0),u.setActionVisible("btn-examinar_paciente",!0)),f.close()}).setVisibility(!0)]),x=(new t("gaveta","Gaveta")).setCssClass("modalScene-drawer"),x.registerActions([(new n("btn-fechar_gaveta","Fechar gaveta")).setCssClass("action-fechar_gaveta").onClick(function(){u.closeModalScene("Gaveta")}).setVisibility(!0)]),x.registerInteractiveObjects([(new s("io-coxim","Coxim")).setCssClass("intObj-cushion").onClick(function(){d.getFlag("coxim").setValue(!0),u.setInteractiveObjectVisible("io-coxim",!1)}).setVisibility(!0)]),N=new t("Prontuario","Prontuario"),N.registerActions([(new n("btn-fechar_prontuario","Fechar prontuário")).setCssClass("action-ler_prontuario").onClick(function(){l.close(),u.closeModalScene("Prontuario")}),(new n("btn-terminar_fase","Conversar com Mentor")).setCssClass("action-abrir_dialogo").onClick(function(){l.close(),alert(l.isDataValid()+" Final da fase"),u.registerScoreItem(h.tutorial.identificarPaciente),u.closeCommandBar(),u.showEndOfLevel()})]),d.registerScene(g),d.registerScene(y),d.registerScene(w),d.registerScene(E),d.registerScene(S),d.registerModalScene(T),d.registerModalScene(x),d.registerModalScene(N),d.setSetupScript(function(){d.getFlag("conversar_recepcionista").setValue(!1),d.getFlag("conversar_mentor").setValue(!1),d.getFlag("conversar_mentor2").setValue(!1),d.getFlag("conversar_paciente").setValue(!1),d.getFlag("confirmou_pulseira").setValue(!1),d.getFlag("examinar_paciente").setValue(!1),d.getFlag("lavar_maos").setValue(!1),d.getFlag("lavar_maos2").setValue(!1),d.getFlag("coxim").setValue(!1),d.getFlag("colocou_coxim").setValue(!1),f.setNameRegExp(/Carlos Esme Golv(e|ê)a/),f.setLeitoRegExp(/0*3/),f.setDataRegExp(/01\/12\/1945/),l.setNome("Carlos Esme Golvêa"),l.setSexo("M"),l.setEstadoCivil("Viúvo"),l.setDataNascimento("01/12/1945"),l.setIdade("69 anos"),l.setProfissao("Advogado Aposentado"),l.setPai("Leonardo Gouvêa"),l.setMae("Maria Clara Esme Gouvêa"),l.setAlergiaMedicamentosa(!1,""),l.setDisableAlergiaMedicamentosa(!0),l.setDataInternacao("15/06/2015"),l.setLeito("03 - Leito Masculino"),l.setAntecedentes("Nenhum"),l.setHipotese("Pneumonia brônquica, insuficiência respiratória e anemia ferropriva."),l.setObservacoes("Possui incontinência urinária, acamado."),l.setPeso("72"),l.setAltura("1,68"),l.setCircunferenciaAbdominal("135"),l.setPrescMedicaRowData(0,"15/03","Sulfato ferroso","Oral","drágea 250 mg","2x dia","x"),l.setPrescMedicaRowData(1,"15/03","Azitromicina","Oral","comp 500 mg","1x dia","x"),l.setSsvvRowData(0,"15/03","130x80","65","14","94","36",!0),l.setSsvvRowData(1,"","","","","","",!0),l.setAnotacaoEnfermagemRowData("15/03","")}),d.registerFlag(new o("conversar_recepcionista"),!1),d.registerFlag(new o("conversar_mentor"),!1),d.registerFlag(new o("conversar_mentor2"),!1),d.registerFlag(new o("conversar_paciente"),!1),d.registerFlag(new o("confirmou_pulseira"),!1),d.registerFlag(new o("examinar_paciente"),!1),d.registerFlag(new o("lavar_maos"),!1),d.registerFlag(new o("lavar_maos2"),!1),d.registerFlag(new o("coxim"),!1),d.registerFlag(new o("colocou_coxim"),!1),d.setInitialScene(0),e.registerLevel(d,1)});