define(["levelsData","Scene","Action","Level","Dialog","InteractiveObject","Flag","CuidandoBem","Commons","Pulseira","Prontuario"],function(e,t,n,r,i,s,o,u,a,f,l){function v(){p?h.getFlag("conversar_recepcionista").getValue()==1&&(u.closeDialog(0),u.closeDialog(1),u.changeScene(1)):(u.closeDialog(0),u.closeDialog(1),u.changeScene(1))}function m(){u.openDialog(0)}function y(){p?h.getFlag("conversar_mentor").getValue()==1&&u.changeScene(2):u.changeScene(2)}function w(){u.changeScene(4)}var c=require("Dialogs_data").tutorial,h=new r("Level Tutorial"),p=!0,d=!1;p||(d=!0);var g=a.scenes.recepcao.getClone().onLoad(function(){u.openDialog(0)});g.registerDialogs([(new i(a.characters.recepcionista_unknow)).setText(c.recepcao[0]).registerOption("",function(){h.getFlag("conversar_recepcionista").setValue(!0),u.openDialog(1)}),(new i(a.characters.jogador)).setText("").registerOption(c.recepcao[1],function(){u.openDialog(2)}),(new i(a.characters.recepcionista)).setText(c.recepcao[2]).registerOption("",function(){u.closeDialog(3),u.setInteractiveObjectVisible("io-ir_corredor_esquerda",!0),u.setInteractiveObjectVisible("io-ir_corredor_direita",!0)})]),g.registerInteractiveObjects([(new s("intObj-conversar_recepcionista","Conversar com a Recepcionista")).setCssClass("intObj-talkToReceptionist").setVisibility(!0).onClick(m),(new s("io-ir_corredor_esquerda","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-left").onClick(v).setVisibility(d),(new s("io-ir_corredor_direita","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-right").onClick(v).setVisibility(d)]);var b=a.scenes.corredor.getClone().onLoad(function(){switch(h.getFlag("passagem_corredor").getValue()){case 0:u.setInteractiveObjectVisible("io-conversar_mentor",!0),u.openDialog(0);break;case 1:u.setInteractiveObjectVisible("io-ir_posto_enfermagem",!0),u.setInteractiveObjectVisible("io-ir_sala_leitos",!1),u.setInteractiveObjectVisible("io-conversar_mentor",!1);break;case 2:u.setInteractiveObjectVisible("io-ir_posto_enfermagem",!1),u.setInteractiveObjectVisible("io-ir_sala_leitos",!0)}}).onUnload(function(){switch(h.getFlag("passagem_corredor").getValue()){case 0:h.getFlag("passagem_corredor").setValue(1);break;case 1:h.getFlag("passagem_corredor").setValue(2);break;case 2:h.getFlag("passagem_corredor").setValue(3)}});b.registerDialogs([(new i(a.characters.mentor)).setText(c.corredor[0]).registerOption("",function(){h.getFlag("conversar_mentor").setValue(!0),u.openDialog(1)}),(new i(a.characters.jogador)).setText("").registerOption(c.corredor[1],function(){h.getFlag("conversar_mentor").setValue(!0),u.openDialog(4)}).registerOption(c.corredor[2],function(){h.getFlag("conversar_mentor").setValue(!0),u.openDialog(2)}).registerOption(c.corredor[4],function(){h.getFlag("conversar_mentor").setValue(!0),u.openDialog(3)}).setRandomize(!0),(new i(a.characters.mentor)).setText(c.corredor[3]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.mentor)).setText(c.corredor[5]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.mentor)).setText(c.corredor[6]).registerOption("",function(){u.closeDialog(4),u.setInteractiveObjectVisible("io-ir_sala_leitos",!0),u.setInteractiveObjectVisible("io-conversar_mentor",!0)})]),b.registerInteractiveObjects([(new s("io-ir_sala_leitos","Ir para a sala de Leitos Masculino")).setCssClass("intObj-goToBedroom").onClick(y).setVisibility(d),(new s("io-ir_posto_enfermagem","Ir para o Posto de Enfermagem")).setCssClass("intObj-goToNursingStation").onClick(w).setVisibility(d),(new s("io-conversar_mentor","Conversar com Mentor")).setCssClass("intObj-talkToMentor").onClick(function(){u.openDialog(0)}).setVisibility(d)]);var E=(new t("sala_de_leitos","scene-sala_de_leitos")).setCssClass("scene-bedroom").onLoad(function(){switch(h.getFlag("passagem_sala-de-leitos").getValue()){case 0:u.setInteractiveObjectVisible("io-ir_leito",!0),u.setInteractiveObjectVisible("io-ir_corredor",!1);break;case 1:u.setInteractiveObjectVisible("io-ir_leito",!1),u.setInteractiveObjectVisible("io-ir_corredor",!0)}}).onUnload(function(){switch(h.getFlag("passagem_sala-de-leitos").getValue()){case 0:h.getFlag("passagem_sala-de-leitos").setValue(1);break;case 1:h.getFlag("passagem_sala-de-leitos").setValue(0)}});E.registerInteractiveObjects([(new s("io-ir_leito","Ir ao leito")).setCssClass("intObj-ir_leito-tutorial").onClick(function(){u.changeScene(3)}).setVisibility(d),(new s("io-ir_corredor","Ir ao Corredor")).setCssClass("intObj-bedroomToHallway").onClick(function(){u.changeScene(1)}).setVisibility(d)]);var S=a.scenes.leitos.joao.getClone().onLoad(function(){u.setInteractiveObjectVisible("io-pulseira_paciente",!0);switch(h.getFlag("visita-leito").getValue()){case 0:u.openDialog(0);break;case 1:u.setActionVisible("btn-ir_sala_leitos",!1),u.openDialog(11),h.getFlag("termometro").setValue(!1),h.getFlag("medidor-pressao").setValue(!1),h.getFlag("oximetro").setValue(!1),h.getFlag("relogio").setValue(!1)}}).onUnload(function(){h.getFlag("visita-leito").setValue(1),u.closeCommandBar()});S.registerDialogs([(new i(a.characters.mentor)).setText(c.leito.conversa1[0]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.jogador)).setText("").registerOption(c.leito.conversa1[1],function(){u.openDialog(4)}).registerOption(c.leito.conversa1[2],function(){u.openDialog(2)}).registerOption(c.leito.conversa1[4],function(){u.openDialog(3)}).setRandomize(!0),(new i(a.characters.mentor)).setText(c.leito.conversa1[3]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.mentor)).setText(c.leito.conversa1[5]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.pacientes.joao)).setText(c.leito.conversa1[6]).registerOption("",function(){u.openDialog(5)}),(new i(a.characters.jogador)).setText("").registerOption(c.leito.conversa1[7],function(){u.openDialog(8)}).registerOption(c.leito.conversa1[8],function(){u.openDialog(6)}).registerOption(c.leito.conversa1[10],function(){u.openDialog(7)}).setRandomize(!0),(new i(a.characters.mentor)).setText(c.leito.conversa1[9]).registerOption("",function(){u.openDialog(5)}),(new i(a.characters.mentor)).setText(c.leito.conversa1[11]).registerOption("",function(){u.openDialog(5)}),(new i(a.characters.pacientes.joao)).setText(c.leito.conversa1[12]).registerOption("",function(){u.openDialog(9)}),(new i(a.characters.jogador)).setText("").registerOption(c.leito.conversa1[13],function(){u.openDialog(10)}),(new i(a.characters.mentor)).setText(c.leito.conversa1[14]).registerOption("",function(){u.closeDialog(10),u.openCommandBar()}),(new i(a.characters.jogador)).setText("").registerOption(c.leito.conversa2[0],function(){u.openDialog(14)}).registerOption(c.leito.conversa2[1],function(){u.openDialog(12)}).registerOption(c.leito.conversa2[3],function(){u.openDialog(13)}).setRandomize(!0),(new i(a.characters.mentor)).setText(c.leito.conversa2[2]).registerOption("",function(){u.openDialog(11)}),(new i(a.characters.mentor)).setText(c.leito.conversa2[4]).registerOption("",function(){u.openDialog(11)}),(new i(a.characters.pacientes.joao)).setText(c.leito.conversa2[5]).registerOption("",function(){u.openDialog(15)}),(new i(a.characters.jogador)).setText("").registerOption(c.leito.conversa2[6],function(){u.openDialog(16)}),(new i(a.characters.mentor)).setText(c.leito.conversa2[7]).registerOption("",function(){u.closeDialog(16),u.setActionVisible("btn-lavar_maos",!0),u.openCommandBar()}),(new i(a.characters.mentor)).setText(c.leito.pulseira_incorreta).registerOption("",function(){u.closeDialog(),u.openCommandBar()}),(new i(a.characters.jogador)).setText(c.leito.perguntarNome).registerOption("",function(){u.openDialog(19)}),(new i(a.characters.pacientes.joao)).setText(c.leito.conversa1[12]).registerOption("",function(){u.closeDialog(9),u.openCommandBar()})]),S.registerInteractiveObjects([(new s("io-pulseira_paciente","Checar pulseira do paciente")).setCssClass("intObj-paciente_01-checar_pulseira").onClick(function(){u.openModalScene("pulseira"),f.open(),u.openCommandBar(),h.getFlag("pulseira").getValue()==0&&u.setInteractiveObjectVisible("io-confirmar_pulseira",!0)}).setVisibility(d)]),S.registerActions([(new n("btn-ir_sala_leitos","Ir para sala de leitos")).setCssClass("action-ir_sala_de_leitos").onClick(function(){f.isAllDataValid()?u.changeScene(2):(u.closeCommandBar(),u.openDialog(17))}).setVisibility(d),(new n("btn-perguntar_nome_do_paciente","Perguntar nome do paciente")).setCssClass("action-ir_sala_de_leitos").onClick(function(){u.openDialog(18),u.closeCommandBar()}).setVisibility(!0),(new n("btn-lavar_maos","Lavar as mãos")).setCssClass("action-lavar_maos").onClick(function(){switch(h.getFlag("lavar-maos").getValue()){case 0:h.getFlag("lavar-maos").setValue(1),u.setActionVisible("btn-frequencia_respiratoria",!0),u.setActionVisible("btn-medir_pulso",!0),u.setActionVisible("btn-medir_temperatura",!0),u.setActionVisible("btn-saturacao_02",!0),u.setActionVisible("btn-lavar_maos",!1);break;case 2:h.getFlag("lavar-maos").setValue(3),u.setActionVisible("btn-lavar_maos",!1),u.setActionVisible("btn-ler_prontuario",!0)}}).setVisibility(d),(new n("btn-medir_temperatura","Ver temperatura")).setCssClass("action-medir_temperatura").onClick(function(){h.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalTermometro"),h.getFlag("termometro").setValue(!0),u.setActionVisible("btn-medir_temperatura",!1),h.getFlag("oximetro").getValue()==1&&h.getFlag("medidor-pressao").getValue()==1&&h.getFlag("relogio").getValue()==1&&(u.setActionVisible("btn-lavar_maos",!0),h.getFlag("lavar-maos").setValue(2)))}).setVisibility(d),(new n("btn-medir_pulso","Ver pressão")).setCssClass("action-medir_pulso").onClick(function(){h.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalMedidor_pressao"),h.getFlag("medidor-pressao").setValue(!0),u.setActionVisible("btn-medir_pulso",!1),h.getFlag("termometro").getValue()==1&&h.getFlag("oximetro").getValue()==1&&h.getFlag("relogio").getValue()==1&&(u.setActionVisible("btn-lavar_maos",!0),h.getFlag("lavar-maos").setValue(2)))}).setVisibility(d),(new n("btn-saturacao_02","Ver saturação de O2")).setCssClass("action-medir_saturacao_02").onClick(function(){h.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalOximetro"),h.getFlag("oximetro").setValue(!0),u.setActionVisible("btn-saturacao_02",!1),h.getFlag("termometro").getValue()==1&&h.getFlag("medidor-pressao").getValue()==1&&h.getFlag("relogio").getValue()==1&&(u.setActionVisible("btn-lavar_maos",!0),h.getFlag("lavar-maos").setValue(2)))}).setVisibility(d),(new n("btn-frequencia_respiratoria","Ver frequência respiratória")).setCssClass("action-medir_freq_respiratoria").onClick(function(){h.getFlag("lavar-maos").getValue()>=1&&(h.getFlag("relogio").setValue(!0),u.setActionVisible("btn-frequencia_respiratoria",!1),h.getFlag("termometro").getValue()==1&&h.getFlag("medidor-pressao").getValue()==1&&h.getFlag("oximetro").getValue()==1&&(u.setActionVisible("btn-lavar_maos",!0),h.getFlag("lavar-maos").setValue(2)))}).setVisibility(d),(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){l.open()}).setVisibility(d)]);var x=a.scenes.postoDeEnfermagem.getClone().onLoad(function(){u.setInteractiveObjectVisible("io-abrir_gaveta",!0)}).onUnload(function(){u.closeCommandBar()});x.registerInteractiveObjects([(new s("io-abrir_gaveta","Abrir gaveta")).setCssClass("intObj-openDrawer").onClick(function(){u.openModalScene("Gaveta"),u.openCommandBar(),u.setActionVisible("btn-fechar_gaveta",!0),h.getFlag("termometro").getValue()!=1&&u.setInteractiveObjectVisible("io-termometro",!0),h.getFlag("medidor-pressao").getValue()!=1&&u.setInteractiveObjectVisible("io-medidor_pressao",!0),h.getFlag("oximetro").getValue()!=1&&u.setInteractiveObjectVisible("io-oximetro",!0),h.getFlag("relogio").getValue()!=1&&u.setInteractiveObjectVisible("io-relogio",!0)}).setVisibility(d)]),x.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){u.changeScene(1)}).setVisibility(d)]);var T=a.scenes.finalDeFase.getClone().onLoad(function(){u.setActionVisible("btn-proxima_fase",!0)});T.registerActions([(new n("btn-proxima_fase","Ir a recepção")).setCssClass("action-ir_recepcao").onClick(function(){u.changeLevelTo(1)}).setVisibility(d)]);var N=(new t("Gaveta","Gaveta")).setCssClass("modalScene-drawer");N.registerActions([(new n("btn-fechar_gaveta","Fechar gaveta")).setCssClass("action-fechar_gaveta").onClick(function(){u.closeModalScene("Gaveta"),h.getFlag("termometro").getValue()==1&&h.getFlag("oximetro").getValue()==1&&h.getFlag("medidor-pressao").getValue()==1&&(u.setActionVisible("btn-ir_corredor",!0),u.openCommandBar())}).setVisibility(d)]),N.registerInteractiveObjects([(new s("io-termometro","Termômetro")).setCssClass("intObj-thermometer").onClick(function(){u.setInteractiveObjectVisible("io-termometro",!1),h.getFlag("termometro").setValue(!0)}).setVisibility(d),(new s("io-medidor_pressao","Medidor de pressão")).setCssClass("intObj-bloodPressureMonitor").onClick(function(){u.setInteractiveObjectVisible("io-medidor_pressao",!1),h.getFlag("medidor-pressao").setValue(!0)}).setVisibility(d),(new s("io-oximetro","Oxímetro")).setCssClass("intObj-oximeter").onClick(function(){u.setInteractiveObjectVisible("io-oximetro",!1),h.getFlag("oximetro").setValue(!0)}).setVisibility(d),(new s("io-relogio","Relógio")).setCssClass("intObj-watch").onClick(function(){u.setInteractiveObjectVisible("io-relogio",!1),h.getFlag("relogio").setValue(!0)}).setVisibility(d)]),l.setNome("João Manoel Ribeiro"),l.setSexo("M"),l.setEstadoCivil("Casado"),l.setDataNascimento("07/06/1956"),l.setIdade("58 anos"),l.setPai("Joaquim Casagrande"),l.setMae("Lúcia Moraes Casagrande"),l.setLeito("02"),l.setAntecedentes("Ocorrência de internação em 2004, devido a suspeita de infarto agudo do miocárdio (IAM)"),l.setHipotese("Crise hipertensiva"),l.setPeso("87"),l.setAltura("1,62"),l.setCircunferenciaAbdominal("115");var C=new t("Prontuario","modalScene-prontuario_joao");C.registerActions([(new n("btn-anotar_prontuario","Anotar prontuário")).setCssClass("action-anotar_prontuario").onClick(function(){u.closeModalScene("Prontuario"),u.changeScene(5)})]),f.setNameRegExp(/João Manoel Ribeiro/),f.setLeitoRegExp(/0*2/),f.setDataRegExp(/07\/06\/1956/);var k=new t("pulseira","pulseira");k.registerInteractiveObjects([]),k.registerActions([(new n("btn-largar_pulseira","Largar pulseira")).setCssClass("action-pulseira_paciente").onClick(function(){u.closeModalScene("Pulseira"),h.getFlag("visita-leito").getValue()==0&&u.setActionVisible("btn-ir_sala_leitos",!0),f.close()}).setVisibility(!0)]);var L=(new t("modalTermometro","modalTermometro")).setCssClass("modalScene-termometro").setTemplate("<span class='temp_termometro'>37.5º</span>");L.registerActions([(new n("btn-largar_termometro","Largar termômetro")).setCssClass("action-largar_termometro").onClick(function(){u.closeModalScene("modalTermometro")}).setVisibility(!0)]);var A=(new t("modalMedidor_pressao","modalMedidor_pressao")).setCssClass("modalScene-medidor_pressao").setTemplate("<span class='pressao'>160x100 mmHg</span>");A.registerActions([(new n("btn-largar_medidor_pressao","Largar medidor de pressão")).setCssClass("action-largar_medidor_pressao").onClick(function(){u.closeModalScene("modalMedidor_pressao")}).setVisibility(!0)]);var O=(new t("modalOximetro","Oxímetro")).setCssClass("modalScene-oximetro").setTemplate("<span class='oximetro-text'>valor unidade</span>");O.registerActions([(new n("btn-largar_oximetro","Largar Oxímetro")).setCssClass("action-largar_oximetro").onClick(function(){u.closeModalScene("modalMedidor_pressao")}).setVisibility(!0)]),h.registerScene(g),h.registerScene(b),h.registerScene(E),h.registerScene(S),h.registerScene(x),h.registerScene(T),h.registerModalScene(k),h.registerModalScene(C),h.registerModalScene(N),h.registerModalScene(L),h.registerModalScene(A),h.registerModalScene(O),h.registerFlag(new o("conversar_recepcionista"),!1),h.registerFlag(new o("conversar_mentor",!1)),h.registerFlag(new o("passagem_corredor",0)),h.registerFlag(new o("passagem_sala-de-leitos",0)),h.registerFlag(new o("visita-leito",0)),h.registerFlag(new o("pulseira",!1)),h.registerFlag(new o("lavar-maos",0)),h.registerFlag(new o("termometro",!1)),h.registerFlag(new o("medidor-pressao",!1)),h.registerFlag(new o("oximetro",!1)),h.registerFlag(new o("relogio",!1)),h.setInitialScene(0),e.registerLevel(h,0)});