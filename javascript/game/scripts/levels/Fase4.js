define(["levelsData","Scene","Action","Level","Dialog","InteractiveObject","Flag","CuidandoBem","Commons","Pulseira","Prontuario","FreqRespiratoria","Scores_data"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function g(){u.closeDialog(),u.changeScene(1)}function y(){u.openDialog(0)}function w(){u.changeScene(2)}function E(){d.getFlag("conversar_paciente").getValue()==0?alert("Mentor corrige"):u.changeScene(4)}var p=require("Dialogs_data").fase4,d=new r("Level Fase4"),v=!0,m=!1;v||(m=!0);var b=a.scenes.recepcao.getClone().onLoad(function(){u.openDialog(0)});b.registerDialogs([(new i(a.characters.jogador)).setText("").registerOption(p.recepcao[0],function(){u.openDialog(1)}),(new i(a.characters.recepcionista)).setText(p.recepcao[1]).registerOption("",function(){u.closeDialog(1),d.getFlag("folheto_dos_nove_certos").setValue(!0),u.setInteractiveObjectVisible("io-ir_corredor_esquerda",!0),u.setInteractiveObjectVisible("io-ir_corredor_direita",!0)})]),b.registerInteractiveObjects([(new s("intObj-conversar_recepcionista","Conversar com a Recepcionista")).setCssClass("intObj-talkToReceptionist").setVisibility(!0).onClick(y),(new s("io-ir_corredor_esquerda","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-left").onClick(g).setVisibility(m),(new s("io-ir_corredor_direita","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-right").onClick(g).setVisibility(m)]),corredor=a.scenes.corredor.getClone().onLoad(function(){}).onUnload(function(){}),corredor.registerDialogs([]),corredor.registerInteractiveObjects([(new s("io-ir_sala_leitos","Ir para a sala de Leitos Masculino")).setCssClass("intObj-goToBedroom").onClick(w).setVisibility(!0),(new s("io-ir_posto_enfermagem","Ir para o Posto de Enfermagem")).setCssClass("intObj-goToNursingStation").onClick(E).setVisibility(!0)]);var S=(new t("sala_de_leitos","scene-sala_de_leitos")).setCssClass("scene-bedroom").onLoad(function(){switch(d.getFlag("passagem_sala-de-leitos").getValue()){case 0:u.setInteractiveObjectVisible("io-ir_leito",!0),u.setInteractiveObjectVisible("io-ir_corredor",!1);break;case 1:u.setInteractiveObjectVisible("io-ir_leito",!1),u.setInteractiveObjectVisible("io-ir_corredor",!0)}}).onUnload(function(){switch(d.getFlag("passagem_sala-de-leitos").getValue()){case 0:d.getFlag("passagem_sala-de-leitos").setValue(1);break;case 1:d.getFlag("passagem_sala-de-leitos").setValue(0)}});S.registerActions([(new n("btn-falar_com_paciente_ala","Falar com paciente")).setCssClass("action-falar_com_paciente_ala").onClick(function(){u.openDialog(0)}).setVisibility(!0),(new n("btn-lavar_maos","Lavar as mãos")).setCssClass("action-lavar_maos").onClick(function(){d.getFlag("lavar_maos").getValue()==0?(leve.getFlag("lavar_maos").setValue(!0),alert("Lavou a mão uma vez")):alert("Já lavou a mão")}).setVisibility(!0),(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){d.getFlag("lavar_maos").getValue()!=0&&alert("Jogador perde pontos por não ter lavador as mãos antes de abrir prontuario"),l.open(),u.openModalScene("Prontuario")}).setVisibility(!0)]),S.registerDialogs([(new i(a.characters.jogador)).setText("").registerOption(p.ala_masculina[0],function(){u.openDialog(1)}),(new i(a.characters.pacientes.joao)).setText(p.ala_masculina[1]).registerOption("",function(){u.openDialog(2)}),(new i(a.characters.jogador)).setText("").registerOption(p.ala_masculina[2],function(){u.closeDialog()}).registerOption(p.ala_masculina[3],function(){u.closeDialog()}).registerOption(p.ala_masculina[4],function(){u.closeDialog()}).setRandomize(!0)]);var x=a.scenes.leitos.joao.getClone().onLoad(function(){u.setInteractiveObjectVisible("io-pulseira_paciente",!0);switch(d.getFlag("visita-leito").getValue()){case 0:u.openDialog(0);break;case 1:u.setActionVisible("btn-ir_sala_leitos",!1),u.openDialog(11),d.getFlag("termometro").setValue(!1),d.getFlag("medidor-pressao").setValue(!1),d.getFlag("oximetro").setValue(!1),d.getFlag("relogio").setValue(!1)}}).onUnload(function(){d.getFlag("visita-leito").setValue(1),u.closeCommandBar()});S.registerInteractiveObjects([(new s("io-ir_leito","Ir ao leito")).setCssClass("intObj-ir_leito-tutorial").onClick(function(){u.changeScene(3)}).setVisibility(m),(new s("io-ir_corredor","Ir ao Corredor")).setCssClass("intObj-bedroomToHallway").onClick(function(){u.changeScene(1)}).setVisibility(m)]),x.registerDialogs([]),x.registerInteractiveObjects([(new s("io-pulseira_paciente","Checar pulseira do paciente")).setCssClass("intObj-paciente_01-checar_pulseira").onClick(function(){u.openModalScene("pulseira"),f.open(),u.openCommandBar(),d.getFlag("pulseira").getValue()==0&&u.setInteractiveObjectVisible("io-confirmar_pulseira",!0)}).setVisibility(m)]),x.registerActions([(new n("btn-ir_sala_leitos","Ir para sala de leitos")).setCssClass("action-ir_sala_de_leitos").onClick(function(){f.isAllDataValid()?(u.registerScoreItem(h.tutorial.identificarPaciente),u.setActionVisible("btn-perguntar_nome_do_paciente",!1),u.changeScene(2),f.disable()):(u.closeCommandBar(),u.openDialog(17))}).setVisibility(m),(new n("btn-perguntar_nome_do_paciente","Perguntar nome do paciente")).setCssClass("action-perguntar_nome_char1").onClick(function(){u.openDialog(18),u.closeCommandBar()}).setVisibility(!0),(new n("btn-lavar_maos","Lavar as mãos")).setCssClass("action-lavar_maos").onClick(function(){switch(d.getFlag("lavar-maos").getValue()){case 0:d.getFlag("lavar-maos").setValue(1),u.registerScoreItem(h.tutorial.lavarMaosAntes),u.setActionVisible("btn-frequencia_respiratoria",!0),u.setActionVisible("btn-medir_pulso",!0),u.setActionVisible("btn-medir_temperatura",!0),u.setActionVisible("btn-saturacao_02",!0),u.setActionVisible("btn-ler_prontuario",!0);break;case 2:}checouTodosAparelhos()&&(d.getFlag("lavar-maosDepois").setValue(!0),u.registerScoreItem(h.tutorial.lavarMaosDepois))}).setVisibility(m),(new n("btn-medir_temperatura","Ver temperatura")).setCssClass("action-medir_temperatura").onClick(function(){d.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalTermometro"),d.getFlag("termometro").setValue(!0),d.getFlag("mediuTemperatura").getValue()==0&&(d.getFlag("mediuTemperatura").setValue(!0),u.registerScoreItem(h.tutorial.verTemperatura)),d.getFlag("lavar-maosDepois").setValue(!1))}).setVisibility(m),(new n("btn-medir_pulso","Ver pressão")).setCssClass("action-medir_pulso").onClick(function(){d.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalMedidor_pressao"),d.getFlag("medidor-pressao").setValue(!0),d.getFlag("mediuPressao").getValue()==0&&(d.getFlag("mediuPressao").setValue(!0),u.registerScoreItem(h.tutorial.verPressao)),d.getFlag("lavar-maosDepois").setValue(!1))}).setVisibility(m),(new n("btn-saturacao_02","Ver saturação de O2")).setCssClass("action-medir_saturacao_02").onClick(function(){d.getFlag("lavar-maos").getValue()>=1&&(u.openModalScene("modalOximetro"),d.getFlag("oximetro").setValue(!0),d.getFlag("mediuBatimentosESaturacao").getValue()==0&&(d.getFlag("mediuBatimentosESaturacao").setValue(!0),u.registerScoreItem(h.tutorial.verSaturacao)),d.getFlag("lavar-maosDepois").setValue(!1))}).setVisibility(m),(new n("btn-frequencia_respiratoria","Ver frequência respiratória")).setCssClass("action-medir_freq_respiratoria").onClick(function(){d.getFlag("lavar-maos").getValue()>=1&&(d.getFlag("relogio").setValue(!0),d.getFlag("mediuFreqRespiratoria").getValue()==0&&(d.getFlag("mediuFreqRespiratoria").setValue(!0),u.registerScoreItem(h.tutorial.verFrequenciaRespiratoria)),d.getFlag("lavar-maosDepois").setValue(!1),c.open(),u.openModalScene("freqRespiratoria"))}).setVisibility(m),(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){l.open(),u.openModalScene("Prontuario")}).setVisibility(m)]),d.registerScene(b),d.registerScene(corredor),d.registerScene(S),d.registerScene(x),d.registerFlag(new o("folheto_dos_nove_certos",!1)),d.registerFlag(new o("passagem_sala-de-leitos",0)),d.registerFlag(new o("lavar-maos",!1)),d.setInitialScene(0),e.registerLevel(d,4)});