define(["text!../assets/html/pulseira/pulseira.html"],function(e){function b(t){$(t).append(e)}function w(){c=!0,$(t).show(),$(n).click(function(){$(r).show(),$(r).val($(this).text()),$(r).focus(),$(r).keydown(function(e){e||(e=window.event);var t=e.keyCode||e.which;t=="13"&&$(this).blur()})}),$(r).blur(function(){h=$(this).val(),i=p.test(h),$(r).unbind("keydown"),$(n).text(h),$(this).hide()}),$(s).click(function(){$(o).show(),$(o).val($(this).text()),$(o).focus(),$(o).keydown(function(e){e||(e=window.event);var t=e.keyCode||e.which;t=="13"&&$(this).blur()})}),$(o).blur(function(){d=$(this).val(),u=v.test(d),$(o).unbind("keydown"),$(s).text(d),$(this).hide()}),$(a).click(function(){$(f).show(),$(f).val($(this).text()),$(f).focus(),$(f).keydown(function(e){e||(e=window.event);var t=e.keyCode||e.which;t=="13"&&$(this).blur()})}),$(f).blur(function(){m=$(this).val(),l=g.test(m),$(f).unbind("keydown"),$(a).text(m),$(this).hide()})}function E(){c=!1,$(t).hide()}function S(){return c}function x(){return i}function T(){return l}function N(){return u}function C(e){return p=e,this}function k(e){return g=e,this}function L(e){return v=e,this}var t="#pulseira_modal",n="#name_display",r="#name_input",i=!1,s="#leito_display",o="#leito_input",u=!1,a="#data_display",f="#data_input",l=!1,c=!1,h,p,d,v,m,g,y="";return{init:b,close:E,open:w,isShowing:S,isNameValid:x,isDataValid:T,isLeitoValid:N,setNameRegExp:C,setDataRegExp:k,setLeitoRegExp:L}});