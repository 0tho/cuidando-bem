define(["Stage"],function(e){function c(){$(u).dialog({resizable:!1,autoOpen:!1,height:140,modal:!0,draggable:!1,buttons:{Voltar:function(){$(this).dialog("close")},Apagar:function(){$(this).dialog("close"),n.reset(s),$(c[s]).removeClass("filled"),$(c[s]).addClass("empty"),r[s]=n.loadSlot(s);var e=r[s];o=e.empty,$(c[s]).text(e.name),h()}}}),$(u).dialog().dialog("widget").find(".ui-dialog-titlebar-close").hide(),$(a).dialog({resizable:!1,autoOpen:!1,height:140,modal:!0,draggable:!1,buttons:{Voltar:function(){$(this).dialog("close"),$(f).val(l)},Confirmar:function(){$(this).dialog("close");var t=$(f).val();if(t===null||t===undefined||t===""||t===l)t=l+" "+(s+1);n.setupSlot(s,t),n.loadSlot(s),o=!1,h(),e.changeScreen(6)}}}),$(a).dialog().dialog("widget").find(".ui-dialog-titlebar-close").hide();var c=$(".slot");$(c[s]).addClass("selected"),h();for(i in r){var p=r[i];p.empty?$(c[i]).addClass("empty"):$(c[i]).addClass("filled"),$(c[i]).text(p.name)}$(".menuButton").click(function(){t.play(t.audios.sfx.selecionar_menu)}),$(".backButton").click(function(){e.changeScreen(0)}),$("#deleteSlot").click(function(){o||$("#dialog-confirmDelete").dialog("open")}),$("#loadSlot").click(function(){o?$(a).dialog("open"):(n.loadSlot(s),e.changeScreen(6))}),c.click(function(){var e=$(".slot");s=e.index(this),e.removeClass("selected"),$(this).addClass("selected");var t=r[s];o=t.empty,h(),n.setSelectedId(s)})}function h(){o?($("#deleteSlot").addClass("disabled"),$("#loadSlot").text("Iniciar")):($("#deleteSlot").removeClass("disabled"),$("#loadSlot").text("Carregar"))}function p(){}var t=require("Player"),n=require("SaveLoadGame"),r=n.load(),s=n.getSelectedId(),o=r[s].empty,u="#dialog-confirmDelete",a="#dialog-typeName",f="#nameInput",l="Cuidando Bem";return{load:c,unload:p}});